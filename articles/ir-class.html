<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Introduction to the `ir`class • ir</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the `ir`class">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ir-introduction.html">Introduction to the 'ir' package</a></li>
    <li><a class="dropdown-item" href="../articles/ir-class.html">Introduction to the `ir`class</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><a class="dropdown-item" href="../news/index.html">News</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/henningte/ir/" aria-label="View on GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<link href="ir-class_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="ir-class_files/pagedtable-1.1/js/pagedtable.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Introduction to the `ir`class</h1>
                        <h4 data-toc-skip class="author">Henning
Teickner</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/henningte/ir/blob/main/vignettes/ir-class.Rmd" class="external-link"><code>vignettes/ir-class.Rmd</code></a></small>
      <div class="d-none name"><code>ir-class.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<div class="section level3">
<h3 id="purpose">Purpose<a class="anchor" aria-label="anchor" href="#purpose"></a>
</h3>
<p>The purpose of this vignette is to describe the structure and methods
of objects of class <code>ir</code>. <code>ir</code> objects are used by
the ‘ir’ package to store spectra and their metadata. This vignette
could be helpful if you want to understand better how the ‘ir’ package
works, how to handle metadata, how to manipulate <code>ir</code>
objects, or if you want to construct a subclass based on the
<code>ir</code>class.</p>
<p>This vignette does not give an overview on how to use the ‘ir’
package, on functions for spectral preprocessing, and on how to plot
<code>ir</code> objects. For this, see vignette <a href="ir-introduction.html">Introduction to the ‘ir’ package</a>.</p>
</div>
<div class="section level3">
<h3 id="structure">Structure<a class="anchor" aria-label="anchor" href="#structure"></a>
</h3>
<p>This vignette has three parts:</p>
<ol style="list-style-type: decimal">
<li>The <code>ir</code> class</li>
<li>Subsetting and modifying <code>ir</code> objects</li>
<li>Special functions to manipulate <code>ir objects</code>
</li>
</ol>
<p>In part <a href="#the-ir-class">The <code>ir</code> class</a>, I will
describe the structure of <code>ir</code> objects and list available
methods for it.</p>
<p>In part <a href="#subsetting-and-modifying-ir-objects">Subsetting and
modifying <code>ir</code> objects</a>, I will show how <code>ir</code>
objects can be subsetted and modified (including tidyverse
functions).</p>
<p>In part <a href="#special-functions-to-manipulate-ir-objects">Special
functions to manipulate <code>ir objects</code></a>, I will present some
more specialized functions to manipulate the data in <code>ir</code>
objects (including the spectra).</p>
</div>
<div class="section level3">
<h3 id="preparation">Preparation<a class="anchor" aria-label="anchor" href="#preparation"></a>
</h3>
<p>To follow this vignette, you have to install the ‘ir’ package as
described in the Readme file and you have to load it:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://henningte.github.io/ir/">ir</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="the-ir-class">The <code>ir</code> class<a class="anchor" aria-label="anchor" href="#the-ir-class"></a>
</h2>
<p>Objects of class <code>ir</code> are in principle data frames (or
<code>tibble</code>s):</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ir_sample_data</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["id_measurement"],"name":[1],"type":["int"],"align":["right"]},{"label":["id_sample"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sample_type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["sample_comment"],"name":[4],"type":["chr"],"align":["left"]},{"label":["klason_lignin"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["holocellulose"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["spectra"],"name":[7],"type":["named list"],"align":["right"]}],"data":[{"1":"1","2":"GN 11-389","3":"needles","4":"Abies Firma Momi fir","5":"0.3599440","6":"0.3084","7":"<tibble[,2]>"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.3394050","6":"0.2497","7":"<tibble[,2]>"},{"1":"3","2":"GN 11-407","3":"needles","4":"Juniperus chinensis Chinese juniper","5":"0.2675520","6":"0.3362","7":"<tibble[,2]>"},{"1":"4","2":"GN 11-411","3":"needles","4":"Metasequoia glyptostroboides Dawn redwood","5":"0.3500160","6":"0.1844","7":"<tibble[,2]>"},{"1":"5","2":"GN 11-416","3":"needles","4":"Pinus strobus Torulosa","5":"0.3311000","6":"0.3092","7":"<tibble[,2]>"},{"1":"6","2":"GN 11-419","3":"needles","4":"Pseudolarix amabili Golden Larch","5":"0.2793600","6":"0.3355","7":"<tibble[,2]>"},{"1":"7","2":"GN 11-422","3":"needles","4":"Sequoia sempervirens California redwood","5":"0.3296720","6":"0.2408","7":"<tibble[,2]>"},{"1":"8","2":"GN 11-423","3":"needles","4":"Taxodium distichum Cascade Falls","5":"0.3569500","6":"0.1253","7":"<tibble[,2]>"},{"1":"9","2":"GN 11-428","3":"needles","4":"Thuja occidentalis Eastern Arborvitae","5":"0.3693600","6":"0.2517","7":"<tibble[,2]>"},{"1":"10","2":"GN 11-434","3":"needles","4":"Tsuga caroliniana Carolina Hemlock","5":"0.2890500","6":"0.3487","7":"<tibble[,2]>"},{"1":"11","2":"GN 11-435","3":"needles","4":"Picea abies Norway Spruce","5":"0.2880000","6":"0.3214","7":"<tibble[,2]>"},{"1":"12","2":"GN 11-460","3":"needles","4":"Pinus taeda Loblolly pine","5":"0.3223000","6":"0.3292","7":"<tibble[,2]>"},{"1":"13","2":"HW 07-151","3":"hardwood","4":"Quercus sp. Red oak (from local lumber yard)","5":"0.2380950","6":"0.6010","7":"<tibble[,2]>"},{"1":"14","2":"HW 11-137","3":"hardwood","4":"Acer saccharum Sugar maple","5":"0.2425920","6":"0.5169","7":"<tibble[,2]>"},{"1":"15","2":"HW 11-144","3":"hardwood","4":"Fraxinus americana White ash","5":"0.2592240","6":"0.5212","7":"<tibble[,2]>"},{"1":"16","2":"HW 11-146","3":"hardwood","4":"Aesculus octandra Buckeye","5":"0.2331840","6":"0.4136","7":"<tibble[,2]>"},{"1":"17","2":"HW 11-148","3":"hardwood","4":"Ailanthus altissima Tree of Heaven","5":"0.1581200","6":"0.6254","7":"<tibble[,2]>"},{"1":"18","2":"HW 11-149","3":"hardwood","4":"Salix nigra Black willow","5":"0.1999570","6":"0.5891","7":"<tibble[,2]>"},{"1":"19","2":"HW 11-172","3":"hardwood","4":"Quercus viginiana Live oak","5":"0.2822950","6":"0.4651","7":"<tibble[,2]>"},{"1":"20","2":"HW 11-173","3":"hardwood","4":"Populus alba White Poplar","5":"0.1864270","6":"0.5889","7":"<tibble[,2]>"},{"1":"21","2":"HW 11-176","3":"hardwood","4":"Quercus rubra red oak","5":"0.2189460","6":"0.5513","7":"<tibble[,2]>"},{"1":"22","2":"HW 11-179","3":"hardwood","4":"Betula papyrifera Paper birch","5":"0.1713960","6":"0.6067","7":"<tibble[,2]>"},{"1":"23","2":"HW 11-184","3":"hardwood","4":"Acer rubrum red maple","5":"0.2251480","6":"0.5811","7":"<tibble[,2]>"},{"1":"24","2":"LG 09-384","3":"leaves and grasses","4":"","5":"0.1274308","6":"0.3670","7":"<tibble[,2]>"},{"1":"25","2":"LG 11-309","3":"leaves and grasses","4":"Betula nigra Red birch","5":"0.3292350","6":"0.2214","7":"<tibble[,2]>"},{"1":"26","2":"LG 11-393","3":"leaves and grasses","4":"Camelia japonica white by the gate","5":"0.2593800","6":"0.2077","7":"<tibble[,2]>"},{"1":"27","2":"LG 11-395","3":"leaves and grasses","4":"Carpitus betulus European Hornbeam","5":"0.2234680","6":"0.2532","7":"<tibble[,2]>"},{"1":"28","2":"LG 11-397","3":"leaves and grasses","4":"Clethra alnifolia Sweet pepperbrush","5":"0.3888840","6":"0.1891","7":"<tibble[,2]>"},{"1":"29","2":"LG 11-404","3":"leaves and grasses","4":"Ilex calina Carolina holly","5":"0.2713620","6":"0.2570","7":"<tibble[,2]>"},{"1":"30","2":"LG 11-412","3":"leaves and grasses","4":"Miscanthus sinensis Maiden grass","5":"0.1783770","6":"0.5355","7":"<tibble[,2]>"},{"1":"31","2":"LG 11-414","3":"leaves and grasses","4":"Nyssa sylvatica Black tupelo","5":"0.2188790","6":"0.2035","7":"<tibble[,2]>"},{"1":"32","2":"LG 11-418","3":"leaves and grasses","4":"Prunus incisa Fuji cherry","5":"0.3258500","6":"0.1545","7":"<tibble[,2]>"},{"1":"33","2":"LG 11-432","3":"leaves and grasses","4":"Acer rubrum red maple","5":"0.2387520","6":"0.1756","7":"<tibble[,2]>"},{"1":"34","2":"LG 11-433","3":"leaves and grasses","4":"Cornus florida Flowering dogwood","5":"0.1807650","6":"0.2134","7":"<tibble[,2]>"},{"1":"35","2":"LG 11-438","3":"leaves and grasses","4":"Eremochloa ophiuroides Centipede grass","5":"0.1691550","6":"0.4941","7":"<tibble[,2]>"},{"1":"36","2":"LG 11-461","3":"leaves and grasses","4":"Quercus viginiana Live oak","5":"0.3175320","6":"0.2568","7":"<tibble[,2]>"},{"1":"37","2":"SW 11-138","3":"softwood","4":"Tsuga heterophyla Western hemlock","5":"0.3471160","6":"0.4733","7":"<tibble[,2]>"},{"1":"38","2":"SW 11-139","3":"softwood","4":"Pinus monticola Western white pine","5":"0.2749050","6":"0.5444","7":"<tibble[,2]>"},{"1":"39","2":"SW 11-154","3":"softwood","4":"Pinus strobus Eastern white pine","5":"0.3117600","6":"0.5270","7":"<tibble[,2]>"},{"1":"40","2":"SW 11-158","3":"softwood","4":"Pinus taeda Loblolly pine","5":"0.2747150","6":"0.5659","7":"<tibble[,2]>"},{"1":"41","2":"SW 11-178","3":"softwood","4":"Tsuga caroliniana Carolina Hemlock","5":"0.3458700","6":"0.4591","7":"<tibble[,2]>"},{"1":"42","2":"OCC 11-457","3":"old corrugated cardboard","4":"OCC 1","5":"0.1018600","6":"0.7709","7":"<tibble[,2]>"},{"1":"43","2":"OCC 11-462","3":"old corrugated cardboard","4":"OCC 3","5":"0.1418180","6":"0.7575","7":"<tibble[,2]>"},{"1":"44","2":"OCC 11-463","3":"old corrugated cardboard","4":"OCC 2","5":"0.1373680","6":"0.7182","7":"<tibble[,2]>"},{"1":"45","2":"OMG 08-82","3":"old magazines","4":"Australia Paper","5":"0.1957380","6":"0.4635","7":"<tibble[,2]>"},{"1":"46","2":"OMG 11-454","3":"old magazines","4":"ESPN Magazine dated Sept 2011","5":"0.1935360","6":"0.4760","7":"<tibble[,2]>"},{"1":"47","2":"OMG 11-455","3":"old magazines","4":"W Magazine dated Sept 2011","5":"0.1457610","6":"0.4899","7":"<tibble[,2]>"},{"1":"48","2":"OMG 11-456","3":"old magazines","4":"CPU Magazine","5":"0.1066450","6":"0.5913","7":"<tibble[,2]>"},{"1":"49","2":"ONP 08-78","3":"old newsprint","4":"Australia Paper","5":"0.2407860","6":"0.6320","7":"<tibble[,2]>"},{"1":"50","2":"ONP 09-388","3":"old newsprint","4":"Eleazer 1997 sample","5":"0.2389940","6":"0.5750","7":"<tibble[,2]>"},{"1":"51","2":"ONP 11-450","3":"old newsprint","4":"News and Observer dated Aug 2011","5":"0.1634850","6":"0.6952","7":"<tibble[,2]>"},{"1":"52","2":"ONP 11-451","3":"old newsprint","4":"Houston Chronicle dated Sept 2011","5":"0.2404920","6":"0.5977","7":"<tibble[,2]>"},{"1":"53","2":"ONP 11-458","3":"old newsprint","4":"Indianapolis star","5":"0.2884200","6":"0.5716","7":"<tibble[,2]>"},{"1":"54","2":"ONP 11-459","3":"old newsprint","4":"Los Angeles Times","5":"0.1952280","6":"0.6503","7":"<tibble[,2]>"},{"1":"55","2":"OFF 10-506","3":"office paper","4":"","5":"0.2035740","6":"0.7254","7":"<tibble[,2]>"},{"1":"56","2":"OFF 13-144","3":"office paper","4":"","5":"0.3184510","6":"0.7362","7":"<tibble[,2]>"},{"1":"57","2":"OFF 08-80","3":"office paper","4":"","5":"0.5624500","6":"0.7268","7":"<tibble[,2]>"},{"1":"58","2":"OFF 08-852","3":"office paper","4":"","5":"0.0542300","6":"0.7007","7":"<tibble[,2]>"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Each row represents one measurement for a spectrum. The
<code>ir</code> object must a column <code>spectra</code> which is a
list of data frames, each element representing a spectrum.</p>
<p>Besides this, <code>ir</code> objects may have additional columns
with metadata. This is useful to analyze spectra of samples in an
integrated way with other data, for example nitrogen content (see part
<a href="#subsetting-and-modifying-ir-objects">Subsetting and modifying
<code>ir</code> objects</a>).</p>
<p>The <code>spectra</code> column is a list of data frames, each
element representing a spectrum. The data frames have a row for each
intensity values measured for a spectral channel (“x axis value”,
e.g. wavenumber) and a column <code>x</code> storing the wavenumber
values and a column <code>y</code> storing the respective intensity
values. No additional columns are allowed:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ir_sample_data</span><span class="op">$</span><span class="va">spectra</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 6 × 2</span></span></span>
<span><span class="co">#&gt;       x        y</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>  <span style="text-decoration: underline;">4</span>000 0.000<span style="text-decoration: underline;">361</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>  <span style="text-decoration: underline;">3</span>999 0.000<span style="text-decoration: underline;">431</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>  <span style="text-decoration: underline;">3</span>998 0.000<span style="text-decoration: underline;">501</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>  <span style="text-decoration: underline;">3</span>997 0.000<span style="text-decoration: underline;">571</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>  <span style="text-decoration: underline;">3</span>996 0.000<span style="text-decoration: underline;">667</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">6</span>  <span style="text-decoration: underline;">3</span>995 0.000<span style="text-decoration: underline;">704</span></span></span></code></pre></div>
<p>If there is no spectrum available for a sample, an empty data frame
is a placeholder:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d</span> <span class="op">&lt;-</span> <span class="va">ir_sample_data</span></span>
<span><span class="va">d</span><span class="op">$</span><span class="va">spectra</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="va">d</span><span class="op">$</span><span class="va">spectra</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">0</span>, <span class="op">]</span></span>
<span><span class="va">d</span><span class="op">$</span><span class="va">spectra</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ir_normalize.html">ir_normalize</a></span><span class="op">(</span><span class="va">d</span>, method <span class="op">=</span> <span class="st">"area"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 0 × 2</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 variables: x &lt;int&gt;, y &lt;dbl&gt;</span></span></span></code></pre>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["id_measurement"],"name":[1],"type":["int"],"align":["right"]},{"label":["id_sample"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sample_type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["sample_comment"],"name":[4],"type":["chr"],"align":["left"]},{"label":["klason_lignin"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["holocellulose"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["spectra"],"name":[7],"type":["named list"],"align":["right"]}],"data":[{"1":"1","2":"GN 11-389","3":"needles","4":"Abies Firma Momi fir","5":"0.3599440","6":"0.3084","7":"<tibble[,2]>","_rn_":"1"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.3394050","6":"0.2497","7":"<tibble[,2]>","_rn_":"2"},{"1":"3","2":"GN 11-407","3":"needles","4":"Juniperus chinensis Chinese juniper","5":"0.2675520","6":"0.3362","7":"<tibble[,2]>","_rn_":"3"},{"1":"4","2":"GN 11-411","3":"needles","4":"Metasequoia glyptostroboides Dawn redwood","5":"0.3500160","6":"0.1844","7":"<tibble[,2]>","_rn_":"4"},{"1":"5","2":"GN 11-416","3":"needles","4":"Pinus strobus Torulosa","5":"0.3311000","6":"0.3092","7":"<tibble[,2]>","_rn_":"5"},{"1":"6","2":"GN 11-419","3":"needles","4":"Pseudolarix amabili Golden Larch","5":"0.2793600","6":"0.3355","7":"<tibble[,2]>","_rn_":"6"},{"1":"7","2":"GN 11-422","3":"needles","4":"Sequoia sempervirens California redwood","5":"0.3296720","6":"0.2408","7":"<tibble[,2]>","_rn_":"7"},{"1":"8","2":"GN 11-423","3":"needles","4":"Taxodium distichum Cascade Falls","5":"0.3569500","6":"0.1253","7":"<tibble[,2]>","_rn_":"8"},{"1":"9","2":"GN 11-428","3":"needles","4":"Thuja occidentalis Eastern Arborvitae","5":"0.3693600","6":"0.2517","7":"<tibble[,2]>","_rn_":"9"},{"1":"10","2":"GN 11-434","3":"needles","4":"Tsuga caroliniana Carolina Hemlock","5":"0.2890500","6":"0.3487","7":"<tibble[,2]>","_rn_":"10"},{"1":"11","2":"GN 11-435","3":"needles","4":"Picea abies Norway Spruce","5":"0.2880000","6":"0.3214","7":"<tibble[,2]>","_rn_":"11"},{"1":"12","2":"GN 11-460","3":"needles","4":"Pinus taeda Loblolly pine","5":"0.3223000","6":"0.3292","7":"<tibble[,2]>","_rn_":"12"},{"1":"13","2":"HW 07-151","3":"hardwood","4":"Quercus sp. Red oak (from local lumber yard)","5":"0.2380950","6":"0.6010","7":"<tibble[,2]>","_rn_":"13"},{"1":"14","2":"HW 11-137","3":"hardwood","4":"Acer saccharum Sugar maple","5":"0.2425920","6":"0.5169","7":"<tibble[,2]>","_rn_":"14"},{"1":"15","2":"HW 11-144","3":"hardwood","4":"Fraxinus americana White ash","5":"0.2592240","6":"0.5212","7":"<tibble[,2]>","_rn_":"15"},{"1":"16","2":"HW 11-146","3":"hardwood","4":"Aesculus octandra Buckeye","5":"0.2331840","6":"0.4136","7":"<tibble[,2]>","_rn_":"16"},{"1":"17","2":"HW 11-148","3":"hardwood","4":"Ailanthus altissima Tree of Heaven","5":"0.1581200","6":"0.6254","7":"<tibble[,2]>","_rn_":"17"},{"1":"18","2":"HW 11-149","3":"hardwood","4":"Salix nigra Black willow","5":"0.1999570","6":"0.5891","7":"<tibble[,2]>","_rn_":"18"},{"1":"19","2":"HW 11-172","3":"hardwood","4":"Quercus viginiana Live oak","5":"0.2822950","6":"0.4651","7":"<tibble[,2]>","_rn_":"19"},{"1":"20","2":"HW 11-173","3":"hardwood","4":"Populus alba White Poplar","5":"0.1864270","6":"0.5889","7":"<tibble[,2]>","_rn_":"20"},{"1":"21","2":"HW 11-176","3":"hardwood","4":"Quercus rubra red oak","5":"0.2189460","6":"0.5513","7":"<tibble[,2]>","_rn_":"21"},{"1":"22","2":"HW 11-179","3":"hardwood","4":"Betula papyrifera Paper birch","5":"0.1713960","6":"0.6067","7":"<tibble[,2]>","_rn_":"22"},{"1":"23","2":"HW 11-184","3":"hardwood","4":"Acer rubrum red maple","5":"0.2251480","6":"0.5811","7":"<tibble[,2]>","_rn_":"23"},{"1":"24","2":"LG 09-384","3":"leaves and grasses","4":"","5":"0.1274308","6":"0.3670","7":"<tibble[,2]>","_rn_":"24"},{"1":"25","2":"LG 11-309","3":"leaves and grasses","4":"Betula nigra Red birch","5":"0.3292350","6":"0.2214","7":"<tibble[,2]>","_rn_":"25"},{"1":"26","2":"LG 11-393","3":"leaves and grasses","4":"Camelia japonica white by the gate","5":"0.2593800","6":"0.2077","7":"<tibble[,2]>","_rn_":"26"},{"1":"27","2":"LG 11-395","3":"leaves and grasses","4":"Carpitus betulus European Hornbeam","5":"0.2234680","6":"0.2532","7":"<tibble[,2]>","_rn_":"27"},{"1":"28","2":"LG 11-397","3":"leaves and grasses","4":"Clethra alnifolia Sweet pepperbrush","5":"0.3888840","6":"0.1891","7":"<tibble[,2]>","_rn_":"28"},{"1":"29","2":"LG 11-404","3":"leaves and grasses","4":"Ilex calina Carolina holly","5":"0.2713620","6":"0.2570","7":"<tibble[,2]>","_rn_":"29"},{"1":"30","2":"LG 11-412","3":"leaves and grasses","4":"Miscanthus sinensis Maiden grass","5":"0.1783770","6":"0.5355","7":"<tibble[,2]>","_rn_":"30"},{"1":"31","2":"LG 11-414","3":"leaves and grasses","4":"Nyssa sylvatica Black tupelo","5":"0.2188790","6":"0.2035","7":"<tibble[,2]>","_rn_":"31"},{"1":"32","2":"LG 11-418","3":"leaves and grasses","4":"Prunus incisa Fuji cherry","5":"0.3258500","6":"0.1545","7":"<tibble[,2]>","_rn_":"32"},{"1":"33","2":"LG 11-432","3":"leaves and grasses","4":"Acer rubrum red maple","5":"0.2387520","6":"0.1756","7":"<tibble[,2]>","_rn_":"33"},{"1":"34","2":"LG 11-433","3":"leaves and grasses","4":"Cornus florida Flowering dogwood","5":"0.1807650","6":"0.2134","7":"<tibble[,2]>","_rn_":"34"},{"1":"35","2":"LG 11-438","3":"leaves and grasses","4":"Eremochloa ophiuroides Centipede grass","5":"0.1691550","6":"0.4941","7":"<tibble[,2]>","_rn_":"35"},{"1":"36","2":"LG 11-461","3":"leaves and grasses","4":"Quercus viginiana Live oak","5":"0.3175320","6":"0.2568","7":"<tibble[,2]>","_rn_":"36"},{"1":"37","2":"SW 11-138","3":"softwood","4":"Tsuga heterophyla Western hemlock","5":"0.3471160","6":"0.4733","7":"<tibble[,2]>","_rn_":"37"},{"1":"38","2":"SW 11-139","3":"softwood","4":"Pinus monticola Western white pine","5":"0.2749050","6":"0.5444","7":"<tibble[,2]>","_rn_":"38"},{"1":"39","2":"SW 11-154","3":"softwood","4":"Pinus strobus Eastern white pine","5":"0.3117600","6":"0.5270","7":"<tibble[,2]>","_rn_":"39"},{"1":"40","2":"SW 11-158","3":"softwood","4":"Pinus taeda Loblolly pine","5":"0.2747150","6":"0.5659","7":"<tibble[,2]>","_rn_":"40"},{"1":"41","2":"SW 11-178","3":"softwood","4":"Tsuga caroliniana Carolina Hemlock","5":"0.3458700","6":"0.4591","7":"<tibble[,2]>","_rn_":"41"},{"1":"42","2":"OCC 11-457","3":"old corrugated cardboard","4":"OCC 1","5":"0.1018600","6":"0.7709","7":"<tibble[,2]>","_rn_":"42"},{"1":"43","2":"OCC 11-462","3":"old corrugated cardboard","4":"OCC 3","5":"0.1418180","6":"0.7575","7":"<tibble[,2]>","_rn_":"43"},{"1":"44","2":"OCC 11-463","3":"old corrugated cardboard","4":"OCC 2","5":"0.1373680","6":"0.7182","7":"<tibble[,2]>","_rn_":"44"},{"1":"45","2":"OMG 08-82","3":"old magazines","4":"Australia Paper","5":"0.1957380","6":"0.4635","7":"<tibble[,2]>","_rn_":"45"},{"1":"46","2":"OMG 11-454","3":"old magazines","4":"ESPN Magazine dated Sept 2011","5":"0.1935360","6":"0.4760","7":"<tibble[,2]>","_rn_":"46"},{"1":"47","2":"OMG 11-455","3":"old magazines","4":"W Magazine dated Sept 2011","5":"0.1457610","6":"0.4899","7":"<tibble[,2]>","_rn_":"47"},{"1":"48","2":"OMG 11-456","3":"old magazines","4":"CPU Magazine","5":"0.1066450","6":"0.5913","7":"<tibble[,2]>","_rn_":"48"},{"1":"49","2":"ONP 08-78","3":"old newsprint","4":"Australia Paper","5":"0.2407860","6":"0.6320","7":"<tibble[,2]>","_rn_":"49"},{"1":"50","2":"ONP 09-388","3":"old newsprint","4":"Eleazer 1997 sample","5":"0.2389940","6":"0.5750","7":"<tibble[,2]>","_rn_":"50"},{"1":"51","2":"ONP 11-450","3":"old newsprint","4":"News and Observer dated Aug 2011","5":"0.1634850","6":"0.6952","7":"<tibble[,2]>","_rn_":"51"},{"1":"52","2":"ONP 11-451","3":"old newsprint","4":"Houston Chronicle dated Sept 2011","5":"0.2404920","6":"0.5977","7":"<tibble[,2]>","_rn_":"52"},{"1":"53","2":"ONP 11-458","3":"old newsprint","4":"Indianapolis star","5":"0.2884200","6":"0.5716","7":"<tibble[,2]>","_rn_":"53"},{"1":"54","2":"ONP 11-459","3":"old newsprint","4":"Los Angeles Times","5":"0.1952280","6":"0.6503","7":"<tibble[,2]>","_rn_":"54"},{"1":"55","2":"OFF 10-506","3":"office paper","4":"","5":"0.2035740","6":"0.7254","7":"<tibble[,2]>","_rn_":"55"},{"1":"56","2":"OFF 13-144","3":"office paper","4":"","5":"0.3184510","6":"0.7362","7":"<tibble[,2]>","_rn_":"56"},{"1":"57","2":"OFF 08-80","3":"office paper","4":"","5":"0.5624500","6":"0.7268","7":"<tibble[,2]>","_rn_":"57"},{"1":"58","2":"OFF 08-852","3":"office paper","4":"","5":"0.0542300","6":"0.7007","7":"<tibble[,2]>","_rn_":"58"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Currently, the following methods are available for <code>ir</code>
objects:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/methods.html" class="external-link">methods</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"ir"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] [        [[       [[&lt;-     [&lt;-      $        $&lt;-      cbind    filter  </span></span>
<span><span class="co">#&gt;  [9] ir_as_ir max      median   min      Ops      plot     range    rbind   </span></span>
<span><span class="co">#&gt; [17] rep     </span></span>
<span><span class="co">#&gt; see '?methods' for accessing help and source code</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="subsetting-and-modifying-ir-objects">Subsetting and modifying <code>ir</code> objects<a class="anchor" aria-label="anchor" href="#subsetting-and-modifying-ir-objects"></a>
</h2>
<div class="section level3">
<h3 id="subsetting-works-as-for-data-frames">Subsetting works as for data frames<a class="anchor" aria-label="anchor" href="#subsetting-works-as-for-data-frames"></a>
</h3>
<p>Since <code>ir</code> objects are data frames, subsetting and
modifying works the same way as for data frames. For example, specific
rows (= measurements) can be filtered:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">5</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["id_measurement"],"name":[1],"type":["int"],"align":["right"]},{"label":["id_sample"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sample_type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["sample_comment"],"name":[4],"type":["chr"],"align":["left"]},{"label":["klason_lignin"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["holocellulose"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["spectra"],"name":[7],"type":["named list"],"align":["right"]}],"data":[{"1":"5","2":"GN 11-416","3":"needles","4":"Pinus strobus Torulosa","5":"0.331100","6":"0.3092","7":"<tibble[,2]>","_rn_":"1"},{"1":"6","2":"GN 11-419","3":"needles","4":"Pseudolarix amabili Golden Larch","5":"0.279360","6":"0.3355","7":"<tibble[,2]>","_rn_":"2"},{"1":"7","2":"GN 11-422","3":"needles","4":"Sequoia sempervirens California redwood","5":"0.329672","6":"0.2408","7":"<tibble[,2]>","_rn_":"3"},{"1":"8","2":"GN 11-423","3":"needles","4":"Taxodium distichum Cascade Falls","5":"0.356950","6":"0.1253","7":"<tibble[,2]>","_rn_":"4"},{"1":"9","2":"GN 11-428","3":"needles","4":"Thuja occidentalis Eastern Arborvitae","5":"0.369360","6":"0.2517","7":"<tibble[,2]>","_rn_":"5"},{"1":"10","2":"GN 11-434","3":"needles","4":"Tsuga caroliniana Carolina Hemlock","5":"0.289050","6":"0.3487","7":"<tibble[,2]>","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>The advantage of storing spectra as list columns is that filtering
spectral data and metadata and other data can be performed
simultaneously.</p>
<p>One exception is that while subsetting, one must not remove the
<code>spectra</code> column. If it is removed, the <code>ir</code> class
attribute is dropped:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d1</span> <span class="op">&lt;-</span> <span class="va">ir_sample_data</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">d1</span><span class="op">[</span>, <span class="fu"><a href="https://generics.r-lib.org/reference/setops.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">d</span><span class="op">)</span>, <span class="st">"id_sample"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "ir"         "tbl_df"     "tbl"        "data.frame"</span></span>
<span></span>
<span><span class="va">d1</span><span class="op">$</span><span class="va">spectra</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">d1</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span></span></code></pre></div>
<p>Another exception is that when the <code>spectra</code> column
contains unsupported elements (e.g. wrong column names, additional
columns, duplicated “x axis values”), the object also loses its
<code>ir</code> class:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">d2</span> <span class="op">&lt;-</span> <span class="va">ir_sample_data</span></span>
<span><span class="va">d2</span><span class="op">$</span><span class="va">spectra</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="va">d2</span><span class="op">$</span><span class="va">spectra</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">d2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span></span>
<span></span>
<span><span class="va">d3</span> <span class="op">&lt;-</span> <span class="va">ir_sample_data</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">d3</span><span class="op">$</span><span class="va">spectra</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"a"</span>, <span class="st">"b"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">d3</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "tbl_df"     "tbl"        "data.frame"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="tidyverse-methods-are-supported">Tidyverse methods are supported<a class="anchor" aria-label="anchor" href="#tidyverse-methods-are-supported"></a>
</h3>
<p>Tidyverse methods for manipulating ir objects are also supported. For
example, we can use <code>mutate</code> to add new variables and we can
use pipes (<code>%&gt;%</code>) to make coding and reading code
easier:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span>
<span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> <span class="va">ir_sample_data</span></span>
<span></span>
<span><span class="va">d</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">d</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/mutate.html">mutate</a></span><span class="op">(</span>a <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">spectra</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">ir_sample_data</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["id_measurement"],"name":[1],"type":["int"],"align":["right"]},{"label":["id_sample"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sample_type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["sample_comment"],"name":[4],"type":["chr"],"align":["left"]},{"label":["klason_lignin"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["holocellulose"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["spectra"],"name":[7],"type":["named list"],"align":["right"]}],"data":[{"1":"1","2":"GN 11-389","3":"needles","4":"Abies Firma Momi fir","5":"0.359944","6":"0.3084","7":"<tibble[,2]>","_rn_":"1"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","_rn_":"2"},{"1":"3","2":"GN 11-407","3":"needles","4":"Juniperus chinensis Chinese juniper","5":"0.267552","6":"0.3362","7":"<tibble[,2]>","_rn_":"3"},{"1":"4","2":"GN 11-411","3":"needles","4":"Metasequoia glyptostroboides Dawn redwood","5":"0.350016","6":"0.1844","7":"<tibble[,2]>","_rn_":"4"},{"1":"5","2":"GN 11-416","3":"needles","4":"Pinus strobus Torulosa","5":"0.331100","6":"0.3092","7":"<tibble[,2]>","_rn_":"5"},{"1":"6","2":"GN 11-419","3":"needles","4":"Pseudolarix amabili Golden Larch","5":"0.279360","6":"0.3355","7":"<tibble[,2]>","_rn_":"6"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Or, a another example, we can summarize spectra for some defined
groups (here the maximum intensity value for each “x axis value” and
unique <code>sample_type</code> value):</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://purrr.tidyverse.org/" class="external-link">purrr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">d2</span> <span class="op">&lt;-</span> </span>
<span>  <span class="va">d</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">sample_type</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/summarize.html">summarize</a></span><span class="op">(</span></span>
<span>    spectra <span class="op">=</span> <span class="op">{</span></span>
<span>      <span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://purrr.tidyverse.org/reference/map_dfr.html" class="external-link">map_dfc</a></span><span class="op">(</span><span class="va">spectra</span>, <span class="kw">function</span><span class="op">(</span><span class="va">.x</span><span class="op">)</span> <span class="va">.x</span><span class="op">[</span>, <span class="fl">2</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">]</span><span class="op">)</span></span>
<span>      <span class="va">spectra</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">|&gt;</span></span>
<span>        <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>          y <span class="op">=</span></span>
<span>            <span class="va">res</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rowwise.html" class="external-link">rowwise</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="../reference/mutate.html">mutate</a></span><span class="op">(</span>y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/c_across.html" class="external-link">c_across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>            <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">y</span><span class="op">)</span></span>
<span>        <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span>    <span class="op">}</span>,</span>
<span>    .groups <span class="op">=</span> <span class="st">"drop"</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">d2</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">sample_type</span><span class="op">)</span></span></code></pre></div>
<p><img src="ir-class_files/figure-html/unnamed-chunk-14-1.png" width="624" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="special-functions-to-manipulate-ir-objects">Special functions to manipulate <code>ir objects</code><a class="anchor" aria-label="anchor" href="#special-functions-to-manipulate-ir-objects"></a>
</h2>
<p>There are some more special functions to manipulate <code>ir</code>
objects which are not described in vignette <a href="ir-introduction.html">Introduction to the ‘ir’ package</a>. These
will be described here.</p>
<div class="section level3">
<h3 id="replicating-data">Replicating data<a class="anchor" aria-label="anchor" href="#replicating-data"></a>
</h3>
<p>Sometimes, it is useful to replicate one or multiple measurements.
This can be done with the <code><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep()</a></code> method for <code>ir</code>
objects. For example, we can replicate the second spectrum in
<code>ir_sample_data</code>:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ir_sample_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span></span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":[""],"name":["_rn_"],"type":[""],"align":["left"]},{"label":["id_measurement"],"name":[1],"type":["int"],"align":["right"]},{"label":["id_sample"],"name":[2],"type":["chr"],"align":["left"]},{"label":["sample_type"],"name":[3],"type":["chr"],"align":["left"]},{"label":["sample_comment"],"name":[4],"type":["chr"],"align":["left"]},{"label":["klason_lignin"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["holocellulose"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["spectra"],"name":[7],"type":["named list"],"align":["right"]},{"label":["measurement_id"],"name":[8],"type":["int"],"align":["right"]}],"data":[{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"1","_rn_":"1"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"2","_rn_":"2"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"3","_rn_":"3"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"4","_rn_":"4"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"5","_rn_":"5"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"6","_rn_":"6"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"7","_rn_":"7"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"8","_rn_":"8"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"9","_rn_":"9"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"10","_rn_":"10"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"11","_rn_":"11"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"12","_rn_":"12"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"13","_rn_":"13"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"14","_rn_":"14"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"15","_rn_":"15"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"16","_rn_":"16"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"17","_rn_":"17"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"18","_rn_":"18"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"19","_rn_":"19"},{"1":"2","2":"GN 11-400","3":"needles","4":"Cupressocyparis leylandii Leyland cypress","5":"0.339405","6":"0.2497","7":"<tibble[,2]>","8":"20","_rn_":"20"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div class="section level3">
<h3 id="calculating-with-spectra">Calculating with spectra<a class="anchor" aria-label="anchor" href="#calculating-with-spectra"></a>
</h3>
<p>The <code>ir</code> packages supports arithmetic operations with
spectra, i.e. addition, subtraction, multiplication, and division of
intensity values with the same “x axis values”. For example, we can
subtract the third spectrum in <code>ir_sample_data</code> from the
second:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ir_sample_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ir_subtract.html">ir_subtract</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>id_sample <span class="op">=</span> <span class="st">"subtraction_result"</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">2</span><span class="op">:</span><span class="fl">3</span>, <span class="op">]</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></span><span class="op">(</span><span class="op">~</span> <span class="va">id_sample</span><span class="op">)</span></span></code></pre></div>
<p><img src="ir-class_files/figure-html/unnamed-chunk-17-1.png" width="624" style="display: block; margin: auto;"></p>
<p>Note that all metadata of the first argument (<code>x</code>) will be
retained, but not of the second (<code>y</code>). This is why we had to
manually change <code>id_sample</code> before <code>rbind</code>ing the
other spectra above. Note also that <code>x</code> can contain multiple
spectra, <code>y</code> must either only contain one spectrum or the
same number of spectra as <code>x</code> in which case spectra of
matching rows are subtracted (added, multiplied, divided):</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This will not work</span></span>
<span><span class="va">ir_sample_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">6</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ir_add.html">ir_add</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">4</span>, <span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00; font-weight: bold;">Error</span><span style="font-weight: bold;"> in `ir_prepare_Ops()`:</span></span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> `y` must either have only one row or as many rows as `x`.</span></span>
<span></span>
<span><span class="co"># but this will</span></span>
<span><span class="va">ir_sample_data</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">6</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="../reference/ir_add.html">ir_add</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span><span class="op">)</span> </span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 5 × 7</span></span></span>
<span><span class="co">#&gt;   id_measurement id_sample sample_type sample_comment              klason_lignin</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       <span style="color: #949494; font-style: italic;">&lt;units&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>              2 GN 11-400 needles     Cupressocyparis leylandii … 0.339405     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span>              3 GN 11-407 needles     Juniperus chinensis Chines… 0.267552     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span>              4 GN 11-411 needles     Metasequoia glyptostroboid… 0.350016     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">4</span>              5 GN 11-416 needles     Pinus strobus Torulosa      0.331100     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">5</span>              6 GN 11-419 needles     Pseudolarix amabili Golden… 0.279360     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: holocellulose &lt;units&gt;, spectra &lt;list&gt;</span></span></span></code></pre></div>
<p>Note that arithmetic operations are also available as infix
operators, i.e. it is possible to compute:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span> <span class="op">+</span> <span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   id_measurement id_sample sample_type sample_comment              klason_lignin</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       <span style="color: #949494; font-style: italic;">&lt;units&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>              2 GN 11-400 needles     Cupressocyparis leylandii … 0.339405     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: holocellulose &lt;units&gt;, spectra &lt;list&gt;</span></span></span>
<span><span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span> <span class="op">-</span> <span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   id_measurement id_sample sample_type sample_comment              klason_lignin</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       <span style="color: #949494; font-style: italic;">&lt;units&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>              2 GN 11-400 needles     Cupressocyparis leylandii … 0.339405     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: holocellulose &lt;units&gt;, spectra &lt;list&gt;</span></span></span>
<span><span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span> <span class="op">*</span> <span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   id_measurement id_sample sample_type sample_comment              klason_lignin</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       <span style="color: #949494; font-style: italic;">&lt;units&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>              2 GN 11-400 needles     Cupressocyparis leylandii … 0.339405     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: holocellulose &lt;units&gt;, spectra &lt;list&gt;</span></span></span>
<span><span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">2</span>, <span class="op">]</span> <span class="op">/</span> <span class="va">ir_sample_data</span><span class="op">[</span><span class="fl">3</span>, <span class="op">]</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 7</span></span></span>
<span><span class="co">#&gt;   id_measurement id_sample sample_type sample_comment              klason_lignin</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">*</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                       <span style="color: #949494; font-style: italic;">&lt;units&gt;</span>      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span>              2 GN 11-400 needles     Cupressocyparis leylandii … 0.339405     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: holocellulose &lt;units&gt;, spectra &lt;list&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="further-information">Further information<a class="anchor" aria-label="anchor" href="#further-information"></a>
</h2>
<p>Many more functions and options to handle and process spectra are
available in the ‘ir’ package. These are described in the documentation.
In the documentation, you can also read more details about the functions
and options presented here.<br>
To learn more about how <code>ir</code> objects can be useful can be
plotted, and the spectral preprocessing functions, see the vignette <a href="ir-introduction.html">Introduction to the ‘ir’ package</a>.</p>
</div>
<div class="section level2">
<h2 id="sources">Sources<a class="anchor" aria-label="anchor" href="#sources"></a>
</h2>
<p>The data contained in the <code>csv</code> file used in this vignette
are derived from <span class="citation">Hodgkins et al.
(2018)</span></p>
</div>
<div class="section level2">
<h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<pre><code><span><span class="co">#&gt; R version 4.4.3 (2025-02-28)</span></span>
<span><span class="co">#&gt; Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">#&gt; Running under: Ubuntu 24.04.2 LTS</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt;  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">#&gt;  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">#&gt;  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">#&gt; [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; time zone: UTC</span></span>
<span><span class="co">#&gt; tzcode source: system (glibc)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] ggplot2_3.5.1 purrr_1.0.4   dplyr_1.1.4   ir_0.4.0     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] tidyr_1.3.1         sass_0.4.9          utf8_1.2.4         </span></span>
<span><span class="co">#&gt;  [4] generics_0.1.3      xml2_1.3.8          hyperSpec_0.100.2  </span></span>
<span><span class="co">#&gt;  [7] jpeg_0.1-11         lattice_0.22-6      digest_0.6.37      </span></span>
<span><span class="co">#&gt; [10] magrittr_2.0.3      evaluate_1.0.3      grid_4.4.3         </span></span>
<span><span class="co">#&gt; [13] RColorBrewer_1.1-3  fastmap_1.2.0       jsonlite_2.0.0     </span></span>
<span><span class="co">#&gt; [16] brio_1.1.5          scales_1.3.0        lazyeval_0.2.2     </span></span>
<span><span class="co">#&gt; [19] textshaping_1.0.0   jquerylib_0.1.4     Rdpack_2.6.3       </span></span>
<span><span class="co">#&gt; [22] cli_3.6.4           rlang_1.1.5         rbibutils_2.3      </span></span>
<span><span class="co">#&gt; [25] munsell_0.5.1       withr_3.0.2         cachem_1.1.0       </span></span>
<span><span class="co">#&gt; [28] yaml_2.3.10         tools_4.4.3         deldir_2.0-4       </span></span>
<span><span class="co">#&gt; [31] colorspace_2.1-1    interp_1.1-6        vctrs_0.6.5        </span></span>
<span><span class="co">#&gt; [34] R6_2.6.1            png_0.1-8           lifecycle_1.0.4    </span></span>
<span><span class="co">#&gt; [37] fs_1.6.5            htmlwidgets_1.6.4   ragg_1.3.3         </span></span>
<span><span class="co">#&gt; [40] pkgconfig_2.0.3     desc_1.4.3          pkgdown_2.1.1      </span></span>
<span><span class="co">#&gt; [43] pillar_1.10.1       bslib_0.9.0         gtable_0.3.6       </span></span>
<span><span class="co">#&gt; [46] glue_1.8.0          Rcpp_1.0.14         systemfonts_1.2.1  </span></span>
<span><span class="co">#&gt; [49] xfun_0.52           tibble_3.2.1        tidyselect_1.2.1   </span></span>
<span><span class="co">#&gt; [52] knitr_1.50          latticeExtra_0.6-30 farver_2.1.2       </span></span>
<span><span class="co">#&gt; [55] htmltools_0.5.8.1   labeling_0.4.3      rmarkdown_2.29     </span></span>
<span><span class="co">#&gt; [58] testthat_3.2.3      compiler_4.4.3</span></span></code></pre>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" entry-spacing="0">
<div id="ref-Hodgkins.2018" class="csl-entry">
Hodgkins, Suzanne B., Curtis J. Richardson, René Dommain, Hongjun Wang,
Paul H. Glaser, Brittany Verbeke, B. Rose Winkler, et al. 2018.
<span>“Tropical Peatland Carbon Storage Linked to Global Latitudinal
Trends in Peat Recalcitrance.”</span> <em>Nature Communications</em> 9
(1): 3640. <a href="https://doi.org/10.1038/s41467-018-06050-2" class="external-link">https://doi.org/10.1038/s41467-018-06050-2</a>.
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Henning Teickner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
