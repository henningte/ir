<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Computes the variance of a spectrum in an ir object in a given region — ir_variance_region • ir</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Computes the variance of a spectrum in an ir object in a given region — ir_variance_region"><meta name="description" content="ir_variance_region takes a spectrum x and, depending on the
arguments computes the following summary:
if subtract_smoothed = FALSE
it computes the variance of the
intensity values for each spectrum in x. If in addition range
is not NULL, it computes the variance only for the region(s)
represented by range.

if subtract_smoothed = TRUE
it smoothes x, subtracts
the smoothed x from the unsmoothed x and computes the
variance of the difference intensity values. If in addition range is
not NULL, it computes the variance only for the region(s)
represented by range.



"><meta property="og:description" content="ir_variance_region takes a spectrum x and, depending on the
arguments computes the following summary:
if subtract_smoothed = FALSE
it computes the variance of the
intensity values for each spectrum in x. If in addition range
is not NULL, it computes the variance only for the region(s)
represented by range.

if subtract_smoothed = TRUE
it smoothes x, subtracts
the smoothed x from the unsmoothed x and computes the
variance of the difference intensity values. If in addition range is
not NULL, it computes the variance only for the region(s)
represented by range.



"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ir-introduction.html">Introduction to the 'ir' package</a></li>
    <li><a class="dropdown-item" href="../articles/ir-class.html">Introduction to the `ir`class</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><a class="dropdown-item" href="../news/index.html">News</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/henningte/ir/" aria-label="View on GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Computes the variance of a spectrum in an <code>ir</code> object in a given region</h1>
      <small class="dont-index">Source: <a href="https://github.com/henningte/ir/blob/main/R/ir_variance_region.R" class="external-link"><code>R/ir_variance_region.R</code></a></small>
      <div class="d-none name"><code>ir_variance_region.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><code>ir_variance_region</code> takes a spectrum <code>x</code> and, depending on the
arguments computes the following summary:</p><dl><dt>if <code>subtract_smoothed = FALSE</code></dt>
<dd><p>it computes the variance of the
intensity values for each spectrum in <code>x</code>. If in addition <code>range</code>
is not <code>NULL</code>, it computes the variance only for the region(s)
represented by <code>range</code>.</p></dd>

<dt>if <code>subtract_smoothed = TRUE</code></dt>
<dd><p>it smoothes <code>x</code>, subtracts
the smoothed <code>x</code> from the unsmoothed <code>x</code> and computes the
variance of the difference intensity values. If in addition <code>range</code> is
not <code>NULL</code>, it computes the variance only for the region(s)
represented by <code>range</code>.</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ir_variance_region</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  subtract_smoothed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  do_normalize <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">normalize_method</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  range <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>An object of class <code><a href="ir_new_ir.html">ir</a></code>. These are the spectra for
which to compute the variance.</p></dd>


<dt id="arg-subtract-smoothed">subtract_smoothed<a class="anchor" aria-label="anchor" href="#arg-subtract-smoothed"></a></dt>
<dd><p>A logical value. If <code>subtract_smoothed = TRUE</code>,
<code>x</code> is copied, the copy smoothed using <code>ir_smooth</code> with
<code>method = "sg"</code> and subtracted from <code>x</code> before the variance of the
intensity values from <code>x</code> is computed. This allows e.g. to estimate the
noise level in a specific region of spectra. If
<code>subtract_smoothed = FALSE</code> (the default), nothing is subtracted from
<code>x</code> before computing the variance of the intensity values.</p></dd>


<dt id="arg-do-normalize">do_normalize<a class="anchor" aria-label="anchor" href="#arg-do-normalize"></a></dt>
<dd><p>A logical value. If set to <code>TRUE</code>, the spectra in
<code>x</code> are normalized after subtraction of a smoothed version, else no
normalization is performed.</p></dd>


<dt id="arg-normalize-method">normalize_method<a class="anchor" aria-label="anchor" href="#arg-normalize-method"></a></dt>
<dd><p>See <code><a href="ir_normalize.html">ir_normalize()</a></code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Arguments passed to <code><a href="ir_smooth.html">ir_smooth()</a></code> (except for
<code>method</code> which is always set to <code>"sg"</code> if <code>subtract_smoothed</code> is
<code>TRUE</code>). If <code>subtract_smoothed = FALSE</code>, these arguments will be
ignored.</p></dd>


<dt id="arg-range">range<a class="anchor" aria-label="anchor" href="#arg-range"></a></dt>
<dd><p>See <code><a href="ir_clip.html">ir_clip()</a></code>. This is the range for which the
variance of the intensity values will be computed.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>x</code> with two additional columns:</p><dl><dt>variance</dt>
<dd><p>A numeric vector with the computed variances of the
intensity values for the respective spectra.</p></dd>

<dt>n_variance</dt>
<dd><p>An integer vector with the number of intensity values
used during computing the variance.</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Whole spectra variance</span></span></span>
<span class="r-in"><span><span class="va">x1</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>   <span class="fu">ir</span><span class="fu">::</span><span class="va"><a href="ir_sample_data.html">ir_sample_data</a></span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">ir</span><span class="fu">::</span><span class="fu">ir_variance_region</span><span class="op">(</span></span></span>
<span class="r-in"><span>      subtract_smoothed <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>      do_normalize <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>      normalize_method <span class="op">=</span> <span class="st">"area"</span>,</span></span>
<span class="r-in"><span>      range <span class="op">=</span> <span class="cn">NULL</span></span></span>
<span class="r-in"><span>   <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Spectra variance, but only from a specific region</span></span></span>
<span class="r-in"><span><span class="va">range</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>start <span class="op">=</span> <span class="fl">2700</span>, end <span class="op">=</span> <span class="fl">2800</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">x2</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>   <span class="fu">ir</span><span class="fu">::</span><span class="va"><a href="ir_sample_data.html">ir_sample_data</a></span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">ir</span><span class="fu">::</span><span class="fu"><a href="ir_normalize.html">ir_normalize</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"area"</span><span class="op">)</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>   <span class="fu">ir</span><span class="fu">::</span><span class="fu">ir_variance_region</span><span class="op">(</span></span></span>
<span class="r-in"><span>      subtract_smoothed <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>      do_normalize <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>      normalize_method <span class="op">=</span> <span class="st">"area"</span>,</span></span>
<span class="r-in"><span>      range <span class="op">=</span> <span class="va">range</span></span></span>
<span class="r-in"><span>   <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Spectra variance after subtracting a smoothed version of the spectra and</span></span></span>
<span class="r-in"><span><span class="co"># only from a specific region</span></span></span>
<span class="r-in"><span><span class="va">x3</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span>   <span class="fu">ir</span><span class="fu">::</span><span class="va"><a href="ir_sample_data.html">ir_sample_data</a></span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>   <span class="fu">ir</span><span class="fu">::</span><span class="fu">ir_variance_region</span><span class="op">(</span></span></span>
<span class="r-in"><span>      subtract_smoothed <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>      do_normalize <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>      range <span class="op">=</span> <span class="va">range</span>,</span></span>
<span class="r-in"><span>      p <span class="op">=</span> <span class="fl">3</span>, n <span class="op">=</span> <span class="fl">31</span>, ts <span class="op">=</span> <span class="fl">1</span>, m <span class="op">=</span> <span class="fl">0</span></span></span>
<span class="r-in"><span>   <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Henning Teickner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

