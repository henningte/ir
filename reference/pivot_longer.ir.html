<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Pivot an ir object from wide to long — pivot_longer.ir • ir</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Pivot an ir object from wide to long — pivot_longer.ir"><meta name="description" content="Pivot an ir object from wide to long"><meta property="og:description" content="Pivot an ir object from wide to long"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ir</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ir-introduction.html">Introduction to the 'ir' package</a></li>
    <li><a class="dropdown-item" href="../articles/ir-class.html">Introduction to the `ir`class</a></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news"><li><a class="dropdown-item" href="../news/index.html">News</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/henningte/ir/" aria-label="View on GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Pivot an <code>ir</code> object from wide to long</h1>
      <small class="dont-index">Source: <a href="https://github.com/henningte/ir/blob/main/R/tidyverse.R" class="external-link"><code>R/tidyverse.R</code></a></small>
      <div class="d-none name"><code>pivot_longer.ir.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Pivot an <code>ir</code> object from wide to long</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pivot_longer.ir</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">cols</span>,</span>
<span>  names_to <span class="op">=</span> <span class="st">"name"</span>,</span>
<span>  names_prefix <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_sep <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_pattern <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  names_ptypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  names_transform <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  names_repair <span class="op">=</span> <span class="st">"check_unique"</span>,</span>
<span>  values_to <span class="op">=</span> <span class="st">"value"</span>,</span>
<span>  values_drop_na <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  values_ptypes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  values_transform <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="source">Source<a class="anchor" aria-label="anchor" href="#source"></a></h2>
    <p><code><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">tidyr::pivot_longer()</a></code></p>
    </div>
    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>An object of class <code>ir</code>.</p></dd>


<dt id="arg-cols">cols<a class="anchor" aria-label="anchor" href="#arg-cols"></a></dt>
<dd><p>&lt;<code><a href="https://tidyr.tidyverse.org/reference/tidyr_tidy_select.html" class="external-link">tidy-select</a></code>&gt; Columns to pivot into
longer format.</p></dd>


<dt id="arg-names-to">names_to<a class="anchor" aria-label="anchor" href="#arg-names-to"></a></dt>
<dd><p>A character vector specifying the new column or columns to
create from the information stored in the column names of <code>data</code> specified
by <code>cols</code>.</p><ul><li><p>If length 0, or if <code>NULL</code> is supplied, no columns will be created.</p></li>
<li><p>If length 1, a single column will be created which will contain the
column names specified by <code>cols</code>.</p></li>
<li><p>If length &gt;1, multiple columns will be created. In this case, one of
<code>names_sep</code> or <code>names_pattern</code> must be supplied to specify how the
column names should be split. There are also two additional character
values you can take advantage of:</p><ul><li><p><code>NA</code> will discard the corresponding component of the column name.</p></li>
<li><p><code>".value"</code> indicates that the corresponding component of the column
name defines the name of the output column containing the cell values,
overriding <code>values_to</code> entirely.</p></li>
</ul></li>
</ul></dd>


<dt id="arg-names-prefix">names_prefix<a class="anchor" aria-label="anchor" href="#arg-names-prefix"></a></dt>
<dd><p>A regular expression used to remove matching text
from the start of each variable name.</p></dd>


<dt id="arg-names-sep-names-pattern">names_sep, names_pattern<a class="anchor" aria-label="anchor" href="#arg-names-sep-names-pattern"></a></dt>
<dd><p>If <code>names_to</code> contains multiple values,
these arguments control how the column name is broken up.</p>
<p><code>names_sep</code> takes the same specification as <code><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">separate()</a></code>, and can either
be a numeric vector (specifying positions to break on), or a single string
(specifying a regular expression to split on).</p>
<p><code>names_pattern</code> takes the same specification as <code><a href="https://tidyr.tidyverse.org/reference/extract.html" class="external-link">extract()</a></code>, a regular
expression containing matching groups (<code>()</code>).</p>
<p>If these arguments do not give you enough control, use
<code>pivot_longer_spec()</code> to create a spec object and process manually as
needed.</p></dd>


<dt id="arg-names-ptypes-values-ptypes">names_ptypes, values_ptypes<a class="anchor" aria-label="anchor" href="#arg-names-ptypes-values-ptypes"></a></dt>
<dd><p>Optionally, a list of column name-prototype
pairs. Alternatively, a single empty prototype can be supplied, which will
be applied to all columns. A prototype (or ptype for short) is a
zero-length vector (like <code><a href="https://rdrr.io/r/base/integer.html" class="external-link">integer()</a></code> or <code><a href="https://rdrr.io/r/base/numeric.html" class="external-link">numeric()</a></code>) that defines the type,
class, and attributes of a vector. Use these arguments if you want to
confirm that the created columns are the types that you expect. Note that
if you want to change (instead of confirm) the types of specific columns,
you should use <code>names_transform</code> or <code>values_transform</code> instead.</p></dd>


<dt id="arg-names-transform-values-transform">names_transform, values_transform<a class="anchor" aria-label="anchor" href="#arg-names-transform-values-transform"></a></dt>
<dd><p>Optionally, a list of column
name-function pairs. Alternatively, a single function can be supplied,
which will be applied to all columns. Use these arguments if you need to
change the types of specific columns. For example, <code>names_transform = list(week = as.integer)</code> would convert a character variable called <code>week</code>
to an integer.</p>
<p>If not specified, the type of the columns generated from <code>names_to</code> will
be character, and the type of the variables generated from <code>values_to</code>
will be the common type of the input columns used to generate them.</p></dd>


<dt id="arg-names-repair">names_repair<a class="anchor" aria-label="anchor" href="#arg-names-repair"></a></dt>
<dd><p>What happens if the output has invalid column names?
The default, <code>"check_unique"</code> is to error if the columns are duplicated.
Use <code>"minimal"</code> to allow duplicates in the output, or <code>"unique"</code> to
de-duplicated by adding numeric suffixes. See <code><a href="https://vctrs.r-lib.org/reference/vec_as_names.html" class="external-link">vctrs::vec_as_names()</a></code>
for more options.</p></dd>


<dt id="arg-values-to">values_to<a class="anchor" aria-label="anchor" href="#arg-values-to"></a></dt>
<dd><p>A string specifying the name of the column to create
from the data stored in cell values. If <code>names_to</code> is a character
containing the special <code>.value</code> sentinel, this value will be ignored,
and the name of the value column will be derived from part of the
existing column names.</p></dd>


<dt id="arg-values-drop-na">values_drop_na<a class="anchor" aria-label="anchor" href="#arg-values-drop-na"></a></dt>
<dd><p>If <code>TRUE</code>, will drop rows that contain only <code>NA</code>s
in the <code>value_to</code> column. This effectively converts explicit missing values
to implicit missing values, and should generally be used only when missing
values in <code>data</code> were created by its structure.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments passed on to methods.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p><code>data</code> in a long format. If the <code>spectra</code> column is dropped
or invalidated (see <code><a href="ir_new_ir.html">ir_new_ir()</a></code>), the <code>ir</code> class is dropped, else the
object is of class <code>ir</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other tidyverse:
<code><a href="arrange.ir.html">arrange.ir</a>()</code>,
<code><a href="distinct.ir.html">distinct.ir</a>()</code>,
<code><a href="extract.ir.html">extract.ir</a>()</code>,
<code><a href="filter-joins.html">filter-joins</a></code>,
<code><a href="filter.ir.html">filter.ir</a>()</code>,
<code><a href="group_by.html">group_by</a></code>,
<code><a href="mutate.html">mutate</a></code>,
<code><a href="mutate-joins.html">mutate-joins</a></code>,
<code><a href="nest.html">nest</a></code>,
<code><a href="pivot_wider.ir.html">pivot_wider.ir</a>()</code>,
<code><a href="rename.html">rename</a></code>,
<code><a href="rowwise.ir.html">rowwise.ir</a>()</code>,
<code><a href="select.ir.html">select.ir</a>()</code>,
<code><a href="separate.ir.html">separate.ir</a>()</code>,
<code><a href="separate_rows.ir.html">separate_rows.ir</a>()</code>,
<code><a href="slice.html">slice</a></code>,
<code><a href="summarize.html">summarize</a></code>,
<code><a href="unite.ir.html">unite.ir</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## pivot_longer</span></span></span>
<span class="r-in"><span><span class="va">ir_sample_data</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    cols <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"holocellulose"</span>, <span class="st">"klason_lignin"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 116 × 7</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    id_measurement id_sample sample_type sample_comment      spectra  name  value</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  <span style="color: #BCBCBC;">*</span>          <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               <span style="color: #949494; font-style: italic;">&lt;named &gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494;">[1]</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span>              1 GN 11-389 needles     Abies Firma Momi f… <span style="color: #949494;">&lt;tibble&gt;</span> holo… 0.308</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span>              1 GN 11-389 needles     Abies Firma Momi f… <span style="color: #949494;">&lt;tibble&gt;</span> klas… 0.360</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span>              2 GN 11-400 needles     Cupressocyparis le… <span style="color: #949494;">&lt;tibble&gt;</span> holo… 0.250</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span>              2 GN 11-400 needles     Cupressocyparis le… <span style="color: #949494;">&lt;tibble&gt;</span> klas… 0.339</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span>              3 GN 11-407 needles     Juniperus chinensi… <span style="color: #949494;">&lt;tibble&gt;</span> holo… 0.336</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span>              3 GN 11-407 needles     Juniperus chinensi… <span style="color: #949494;">&lt;tibble&gt;</span> klas… 0.268</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span>              4 GN 11-411 needles     Metasequoia glypto… <span style="color: #949494;">&lt;tibble&gt;</span> holo… 0.184</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span>              4 GN 11-411 needles     Metasequoia glypto… <span style="color: #949494;">&lt;tibble&gt;</span> klas… 0.350</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span>              5 GN 11-416 needles     Pinus strobus Toru… <span style="color: #949494;">&lt;tibble&gt;</span> holo… 0.309</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span>              5 GN 11-416 needles     Pinus strobus Toru… <span style="color: #949494;">&lt;tibble&gt;</span> klas… 0.331</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 106 more rows</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Henning Teickner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

